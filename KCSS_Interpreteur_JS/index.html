<!DOCTYPE html>
<html lang="fr" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen"></style>
  </head>
  <body>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
    <span>spanspanspanspan</span>
    <a href="#">un lien</a>

    <script type="text/javascript" src="js/KCSSReader.js"></script>
    <script type="text/javascript">
      let fichierKCSS = `
      ?bg_color : lightblue
      ?width : 600px

      body{
        a, p{
          color: red
          position: relatif
        }

        :hover{
          background-color : pink
        }
      }

      @media only screen and (max-width: ?width) {
        body {
          background-color: ?bg_color
        }
      }
      `;

      try {
        let kcss = new KCSSReader();
        kcss.readKCSS(fichierKCSS);

        let css = kcss.writeCSS();

        console.log(css);
        document.getElementsByTagName('style')[0].innerHTML = css;
      } catch (e) {
        console.error(e);
      }
    </script>
  </body>
</html>
